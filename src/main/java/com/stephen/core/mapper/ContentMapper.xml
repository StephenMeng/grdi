<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.stephen.core.mapper.ContentMapper">
	<resultMap id="BaseResultMap" type="com.stephen.core.model.Content">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		<id column="content_id" property="contentId" jdbcType="INTEGER" />
		<result column="channel_id" property="channelId" jdbcType="INTEGER" />
		<result column="user_id" property="userId" jdbcType="INTEGER" />
		<result column="type_id" property="typeId" jdbcType="INTEGER" />
		<result column="model_id" property="modelId" jdbcType="INTEGER" />
		<result column="site_id" property="siteId" jdbcType="INTEGER" />
		<result column="sort_date" property="sortDate" jdbcType="TIMESTAMP" />
		<result column="top_level" property="topLevel" jdbcType="TINYINT" />
		<result column="has_title_img" property="hasTitleImg" jdbcType="BIT" />
		<result column="is_recommend" property="isRecommend" jdbcType="BIT" />
		<result column="status" property="status" jdbcType="TINYINT" />
		<result column="views_day" property="viewsDay" jdbcType="INTEGER" />
		<result column="comments_day" property="commentsDay" jdbcType="SMALLINT" />
		<result column="downloads_day" property="downloadsDay"
			jdbcType="SMALLINT" />
		<result column="ups_day" property="upsDay" jdbcType="SMALLINT" />
		<result column="score" property="score" jdbcType="INTEGER" />

		<association property="contentExt" column="content_id"
			javaType="com.stephen.core.model.ContentExt">
			<result column="title" property="title" jdbcType="VARCHAR" />
			<result column="short_title" property="shortTitle" jdbcType="VARCHAR" />
			<result column="author" property="author" jdbcType="VARCHAR" />
			<result column="origin" property="origin" jdbcType="VARCHAR" />
			<result column="origin_url" property="originUrl" jdbcType="VARCHAR" />
			<result column="description" property="description" jdbcType="VARCHAR" />
			<result column="release_date" property="releaseDate" jdbcType="TIMESTAMP" />
			<result column="media_path" property="mediaPath" jdbcType="VARCHAR" />
			<result column="media_type" property="mediaType" jdbcType="VARCHAR" />
			<result column="title_color" property="titleColor" jdbcType="VARCHAR" />
			<result column="is_bold" property="isBold" jdbcType="BIT" />
			<result column="title_img" property="titleImg" jdbcType="VARCHAR" />
			<result column="content_img" property="contentImg" jdbcType="VARCHAR" />
			<result column="type_img" property="typeImg" jdbcType="VARCHAR" />
			<result column="link" property="link" jdbcType="VARCHAR" />
			<result column="tpl_content" property="tplContent" jdbcType="VARCHAR" />
			<result column="need_regenerate" property="needRegenerate"
				jdbcType="BIT" />
		</association>
		<collection property="contentAttr" column="content_id"
			ofType="com.stephen.core.model.ContentAttr">
			<result column="attr_name" property="attrName" jdbcType="VARCHAR" />
			<result column="attr_value" property="attrValue" jdbcType="VARCHAR" />
		</collection>
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		content_id, channel_id, user_id, type_id, model_id, site_id,
		sort_date, top_level,
		has_title_img, is_recommend, status, views_day,
		comments_day, downloads_day,
		ups_day,
		score
	</sql>

	<select id="findByChannelId" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">
		select
		c.*,e.*,a.*
		from s_content_channel cc
		left join
		s_content c
		on
		cc.content_id=c.content_id
		left join s_content_ext e on
		c.content_id=e.content_id
		left join s_content_attr a on
		c.content_id=a.content_id
		where cc.channel_id =
		#{channelId,jdbcType=INTEGER}
		limit #{start},#{pageSize}
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		select
		c.*,e.*,a.*
		from s_content c
		left join s_content_ext e on
		c.content_id=e.content_id
		left join s_content_attr a on
		c.content_id=a.content_id
		where c.content_id =
		#{contentId,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		delete from s_content
		where content_id = #{contentId,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.stephen.core.model.Content">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		<selectKey keyProperty="contentId" order="AFTER" resultType="java.lang.Integer">
			SELECT LAST_INSERT_ID()
		</selectKey>
		insert into s_content (content_id, channel_id, user_id,
		type_id,
		model_id, site_id,
		sort_date, top_level, has_title_img,
		is_recommend,
		status, views_day,
		comments_day, downloads_day, ups_day,
		score)
		values
		(#{contentId,jdbcType=INTEGER}, #{channelId,jdbcType=INTEGER},
		#{userId,jdbcType=INTEGER},
		#{typeId,jdbcType=INTEGER},
		#{modelId,jdbcType=INTEGER}, #{siteId,jdbcType=INTEGER},
		#{sortDate,jdbcType=TIMESTAMP}, #{topLevel,jdbcType=TINYINT},
		#{hasTitleImg,jdbcType=BIT},
		#{isRecommend,jdbcType=BIT},
		#{status,jdbcType=TINYINT}, #{viewsDay,jdbcType=INTEGER},
		#{commentsDay,jdbcType=SMALLINT}, #{downloadsDay,jdbcType=SMALLINT},
		#{upsDay,jdbcType=SMALLINT},
		#{score,jdbcType=INTEGER})
	</insert>
	<insert id="insertSelective" parameterType="com.stephen.core.model.Content">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		insert into s_content
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="contentId != null">
				content_id,
			</if>
			<if test="channelId != null">
				channel_id,
			</if>
			<if test="userId != null">
				user_id,
			</if>
			<if test="typeId != null">
				type_id,
			</if>
			<if test="modelId != null">
				model_id,
			</if>
			<if test="siteId != null">
				site_id,
			</if>
			<if test="sortDate != null">
				sort_date,
			</if>
			<if test="topLevel != null">
				top_level,
			</if>
			<if test="hasTitleImg != null">
				has_title_img,
			</if>
			<if test="isRecommend != null">
				is_recommend,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="viewsDay != null">
				views_day,
			</if>
			<if test="commentsDay != null">
				comments_day,
			</if>
			<if test="downloadsDay != null">
				downloads_day,
			</if>
			<if test="upsDay != null">
				ups_day,
			</if>
			<if test="score != null">
				score,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="contentId != null">
				#{contentId,jdbcType=INTEGER},
			</if>
			<if test="channelId != null">
				#{channelId,jdbcType=INTEGER},
			</if>
			<if test="userId != null">
				#{userId,jdbcType=INTEGER},
			</if>
			<if test="typeId != null">
				#{typeId,jdbcType=INTEGER},
			</if>
			<if test="modelId != null">
				#{modelId,jdbcType=INTEGER},
			</if>
			<if test="siteId != null">
				#{siteId,jdbcType=INTEGER},
			</if>
			<if test="sortDate != null">
				#{sortDate,jdbcType=TIMESTAMP},
			</if>
			<if test="topLevel != null">
				#{topLevel,jdbcType=TINYINT},
			</if>
			<if test="hasTitleImg != null">
				#{hasTitleImg,jdbcType=BIT},
			</if>
			<if test="isRecommend != null">
				#{isRecommend,jdbcType=BIT},
			</if>
			<if test="status != null">
				#{status,jdbcType=TINYINT},
			</if>
			<if test="viewsDay != null">
				#{viewsDay,jdbcType=INTEGER},
			</if>
			<if test="commentsDay != null">
				#{commentsDay,jdbcType=SMALLINT},
			</if>
			<if test="downloadsDay != null">
				#{downloadsDay,jdbcType=SMALLINT},
			</if>
			<if test="upsDay != null">
				#{upsDay,jdbcType=SMALLINT},
			</if>
			<if test="score != null">
				#{score,jdbcType=INTEGER},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.stephen.core.model.Content">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		update s_content
		<set>
			<if test="channelId != null">
				channel_id = #{channelId,jdbcType=INTEGER},
			</if>
			<if test="userId != null">
				user_id = #{userId,jdbcType=INTEGER},
			</if>
			<if test="typeId != null">
				type_id = #{typeId,jdbcType=INTEGER},
			</if>
			<if test="modelId != null">
				model_id = #{modelId,jdbcType=INTEGER},
			</if>
			<if test="siteId != null">
				site_id = #{siteId,jdbcType=INTEGER},
			</if>
			<if test="sortDate != null">
				sort_date = #{sortDate,jdbcType=TIMESTAMP},
			</if>
			<if test="topLevel != null">
				top_level = #{topLevel,jdbcType=TINYINT},
			</if>
			<if test="hasTitleImg != null">
				has_title_img = #{hasTitleImg,jdbcType=BIT},
			</if>
			<if test="isRecommend != null">
				is_recommend = #{isRecommend,jdbcType=BIT},
			</if>
			<if test="status != null">
				status = #{status,jdbcType=TINYINT},
			</if>
			<if test="viewsDay != null">
				views_day = #{viewsDay,jdbcType=INTEGER},
			</if>
			<if test="commentsDay != null">
				comments_day = #{commentsDay,jdbcType=SMALLINT},
			</if>
			<if test="downloadsDay != null">
				downloads_day = #{downloadsDay,jdbcType=SMALLINT},
			</if>
			<if test="upsDay != null">
				ups_day = #{upsDay,jdbcType=SMALLINT},
			</if>
			<if test="score != null">
				score = #{score,jdbcType=INTEGER},
			</if>
		</set>
		where content_id = #{contentId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.stephen.core.model.Content">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jan 10 
			20:04:17 CST 2017. -->
		update s_content
		set channel_id = #{channelId,jdbcType=INTEGER},
		user_id = #{userId,jdbcType=INTEGER},
		type_id =
		#{typeId,jdbcType=INTEGER},
		model_id = #{modelId,jdbcType=INTEGER},
		site_id = #{siteId,jdbcType=INTEGER},
		sort_date =
		#{sortDate,jdbcType=TIMESTAMP},
		top_level =
		#{topLevel,jdbcType=TINYINT},
		has_title_img =
		#{hasTitleImg,jdbcType=BIT},
		is_recommend =
		#{isRecommend,jdbcType=BIT},
		status = #{status,jdbcType=TINYINT},
		views_day = #{viewsDay,jdbcType=INTEGER},
		comments_day =
		#{commentsDay,jdbcType=SMALLINT},
		downloads_day =
		#{downloadsDay,jdbcType=SMALLINT},
		ups_day =
		#{upsDay,jdbcType=SMALLINT},
		score = #{score,jdbcType=INTEGER}
		where
		content_id = #{contentId,jdbcType=INTEGER}
	</update>
	<select id="selectLastId" resultType="java.lang.Integer">
		select LAST_INSERT_ID()
	</select>
</mapper>